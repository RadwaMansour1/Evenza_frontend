<!-- Toggle Button for small and medium screens -->
<!-- Toggle Button for small and medium screens -->
<div class="md:hidden flex justify-end mb-4">
  <button
    (click)="toggleFilterVisibility()"
    class="flex items-center gap-1 px-3 py-2 text-sm text-white bg-purple-600 rounded-md hover:bg-purple-700 transition"
  >
    <span>Filters</span>
    <svg
      [class.rotate-180]="isFilterOpen"
      class="w-4 h-4 transform transition-transform"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </button>
</div>

<!-- Filters -->
<form
  [formGroup]="filterForm"
  *ngIf="isFilterOpen || screenIsLarge"
  class="space-y-6 bg-gray-100 p-6 rounded-lg border border-gray-200 shadow-sm"
>
  <!-- Search -->
  <div>
    <label for="search" class="block text-base font-bold text-black mb-1">
      Search
    </label>
    <input
      type="text"
      id="search"
      formControlName="searchTerm"
      placeholder="Search by title or location"
      class="w-full p-2 rounded-md placeholder:text-gray-500 bg-white border-2 border-gray-200 focus:border-purple-500 hover:border-purple-500 sm:text-sm"
    />
  </div>

  <!-- Category -->
  <div>
    <label for="category" class="block text-base font-bold text-black mb-1">
      Category
    </label>
    <select
      id="category"
      formControlName="category"
      class="w-full p-2 bg-white text-gray-900 border-2 border-gray-200 rounded-md focus:outline-none focus:border-purple-500 hover:border-purple-500 sm:text-sm"
    >
      <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
    </select>
  </div>

  <!-- City -->
  <div>
    <label for="city" class="block text-sm font-medium text-gray-700 mb-1">
      City
    </label>
    <select
      id="city"
      formControlName="city"
      class="w-full p-2 bg-white text-gray-900 border-2 border-gray-200 rounded-md focus:outline-none focus:border-purple-500 hover:border-purple-500 sm:text-sm"
    >
      <option *ngFor="let c of cities" [value]="c">{{ c }}</option>
    </select>
  </div>

  <!-- Price Range -->
  <div class="space-y-2">
    <label class="block text-sm font-medium text-gray-700"
      >Price Range ($)</label
    >
    <div class="flex gap-2">
      <input
        type="number"
        formControlName="minPrice"
        placeholder="Min"
        class="w-full p-2 bg-white text-gray-900 border-2 border-gray-200 rounded-md focus:outline-none focus:border-purple-500 hover:border-purple-500 sm:text-sm"
      />
      <input
        type="number"
        formControlName="maxPrice"
        placeholder="Max"
        class="w-full p-2 bg-white text-gray-900 border-2 border-gray-200 rounded-md focus:outline-none focus:border-purple-500 hover:border-purple-500 sm:text-sm"
      />
    </div>
  </div>

  <!-- Free Events Checkbox -->
  <div class="flex items-center">
    <input
      id="isFree"
      type="checkbox"
      formControlName="isFree"
      class="h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 focus:ring-offset-2 accent-purple-600"
    />
    <label for="isFree" class="ml-2 block text-sm text-gray-700">
      Show only free events
    </label>
  </div>

  <!-- Date Range -->
  <div class="space-y-2">
    <label class="block text-sm font-medium text-gray-700">Date Range</label>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
      <input
        type="date"
        formControlName="dateFrom"
        class="w-full p-2 bg-white text-gray-900 border-2 border-gray-200 rounded-md focus:outline-none focus:border-purple-500 hover:border-purple-500 text-sm"
      />
      <input
        type="date"
        formControlName="dateTo"
        class="w-full p-2 bg-white text-gray-900 border-2 border-gray-200 rounded-md focus:outline-none focus:border-purple-500 hover:border-purple-500 text-sm"
      />
    </div>
  </div>

  <!-- Sort By -->
  <div class="space-y-2">
    <label class="block text-sm font-medium text-gray-700">Sort By</label>
    <div class="flex flex-col sm:flex-row gap-2">
      <select
        formControlName="sortBy"
        class="w-full p-2 bg-white text-gray-900 border-2 border-gray-200 rounded-md focus:outline-none focus:border-purple-500 hover:border-purple-500 sm:text-sm"
      >
        <option *ngFor="let opt of sortOptions" [value]="opt.value">
          {{ opt.label }}
        </option>
      </select>
      <select
        formControlName="sortOrder"
        class="w-full p-2 bg-white text-gray-900 border-2 border-gray-200 rounded-md focus:outline-none focus:border-purple-500 hover:border-purple-500 sm:text-sm"
      >
        <option *ngFor="let opt of sortOrderOptions" [value]="opt.value">
          {{ opt.label }}
        </option>
      </select>
    </div>
  </div>

  <!-- Reset Button -->
  <div>
    <button
      type="button"
      (click)="onResetFilters()"
      class="w-full px-4 py-2 rounded-md text-base font-meduim text-white bg-purple-600 hover:bg-purple-700 transition-all duration-400 ease-in-out"
    >
      Reset Filters
    </button>
  </div>
</form>
